"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[478],{254:function(e,r,n){n.d(r,{Z:function(){return l}});n(791);var t,a,u=n(521),i=n(689),c=n(168),o=n(87),s=n(444),p=(0,s.ZP)(o.OL)(t||(t=(0,c.Z)(["\n  \n"]))),f=n(184);function v(e){var r=e.name,n=e.id,t=(0,i.TH)();return(0,f.jsx)("li",{children:(0,f.jsx)(p,{to:"/movies/".concat(n),state:{from:t},children:r},n)})}var d=s.ZP.ul(a||(a=(0,c.Z)(["\n"])));function l(e){var r=e.movies,n=void 0===r?[]:r,t=e.isLoading,a=void 0!==t&&t,i=e.error,c=void 0===i?"":i;return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(d,{children:(null===n||void 0===n?void 0:n.length)>0&&n.map((function(e){var r;return(0,f.jsx)(v,{id:e.id,name:null!==(r=e.name)&&void 0!==r?r:e.title},e.id)}))}),a&&(0,f.jsx)(u.Z,{}),c&&(0,f.jsxs)("div",{children:["Error: ",c.message]})]})}},478:function(e,r,n){n.r(r),n.d(r,{default:function(){return d}});var t=n(861),a=n(439),u=n(757),i=n.n(u),c=n(791),o=n(87),s=n(649),p=n(254),f=n(184);function v(e){var r=e.onSubmit,n=(0,c.useState)(""),t=(0,a.Z)(n,2),u=t[0],i=t[1];return(0,f.jsxs)("form",{onSubmit:function(e){e.preventDefault(),""!==u.trim()?(r(u),i("")):alert("Please enter the name of the movie")},children:[(0,f.jsx)("input",{type:"text",placeholder:"Search movies",value:u,onChange:function(e){i(e.currentTarget.value.toLowerCase())}}),(0,f.jsx)("button",{type:"submit",children:"Search"})]})}var d=function(){var e=(0,c.useState)(""),r=(0,a.Z)(e,2),n=r[0],u=r[1],d=(0,c.useState)(!1),l=(0,a.Z)(d,2),h=l[0],m=l[1],x=(0,c.useState)([]),g=(0,a.Z)(x,2),Z=g[0],b=g[1],k=(0,o.lr)(),w=(0,a.Z)(k,2),y=w[0],j=w[1],S=y.get("query");return(0,c.useEffect)((function(){if(S){var e=function(){var e=(0,t.Z)(i().mark((function e(r){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m(!0),e.prev=1,e.next=4,s.L(r);case 4:n=e.sent,b(n.results),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),u(e.t0);case 11:return e.prev=11,m(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[1,8,11,14]])})));return function(r){return e.apply(this,arguments)}}();e(S)}}),[S]),(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(v,{onSubmit:function(e){j({query:e})}}),Z&&(0,f.jsx)(p.Z,{error:n,isLoading:h,movies:Z})]})}},649:function(e,r,n){n.d(r,{Cm:function(){return v},L:function(){return s},LP:function(){return o},jf:function(){return f},sO:function(){return p}});var t=n(861),a=n(757),u=n.n(a),i=n(243),c="8dee51c91a52c88890f609d5b0af0b1a",o=function(){var e=(0,t.Z)(u().mark((function e(){var r,n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={url:"https://api.themoviedb.org/3/trending/movie/day",params:{api_key:c}},e.next=3,(0,i.Z)(r);case 3:return n=e.sent,e.abrupt("return",n.data);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),s=function(){var e=(0,t.Z)(u().mark((function e(r){var n,t,a,o=arguments;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=o.length>1&&void 0!==o[1]?o[1]:1,t={url:"https://api.themoviedb.org/3/search/movie",params:{api_key:c,language:"en-US",page:n,query:r}},e.next=4,(0,i.Z)(t);case 4:return a=e.sent,e.abrupt("return",a.data);case 6:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),p=function(){var e=(0,t.Z)(u().mark((function e(r){var n,t;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={url:"https://api.themoviedb.org/3/movie/".concat(r),params:{api_key:c,language:"en-US"}},e.next=3,(0,i.Z)(n);case 3:return t=e.sent,e.abrupt("return",t.data);case 5:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),f=function(){var e=(0,t.Z)(u().mark((function e(r){var n,t;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={url:"https://api.themoviedb.org/3/movie/".concat(r,"/credits"),params:{api_key:c,language:"en-US"}},e.next=3,(0,i.Z)(n);case 3:return t=e.sent,e.abrupt("return",t.data);case 5:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),v=function(){var e=(0,t.Z)(u().mark((function e(r){var n,t;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={url:"https://api.themoviedb.org/3/movie/".concat(r,"/reviews"),params:{api_key:c,language:"en-US",page:1}},e.next=3,(0,i.Z)(n);case 3:return t=e.sent,e.abrupt("return",t.data);case 5:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}()}}]);
//# sourceMappingURL=478.697834f7.chunk.js.map